(this["webpackJsonpproject-six"]=this["webpackJsonpproject-six"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(19),o=a.n(c),i=(a(26),a(2)),l=a(3),u=a(5),m=a(4),h=(a(27),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({userName:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.state.userName.length>1?(e.props.userInput(e.state.userName,!0),e.setState({userNameTooSmall:!1})):e.setState({userNameTooSmall:!0})},e.state={userName:"",userNameTooSmall:!1},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("form",{name:"userName",className:"userNameForm",children:[Object(s.jsx)("label",{htmlFor:"nameInput",children:"Your name:"}),Object(s.jsx)("input",{onChange:this.handleChange,type:"text",name:"nameInput",id:"nameInput",placeholder:"Your name here"}),Object(s.jsx)("button",{className:"nameButton",onClick:this.handleSubmit,children:"Submit"})]}),this.state.userNameTooSmall?Object(s.jsxs)("p",{className:"charWarning",children:[Object(s.jsx)("span",{className:"charWarningText",children:"Please enter at least 2 characters for your username"})," \ud83d\ude43 "]}):null]})}}]),a}(n.Component)),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).getUsername=function(t,a){e.props.getUser(t,a)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("header",{children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsxs)("article",{className:"introText",children:[Object(s.jsx)("p",{children:"It is dark times out there. In this new world, Pok\xe9mons come to rescue and support the UK law enforcement."}),Object(s.jsx)("p",{children:"Pick a Pokemon that is best suited to help you solve a crime. Each pokemon has different abilities that can help them solve different categories of crime."})]}),Object(s.jsx)(h,{userInput:this.getUsername})]})})})}}]),a}(n.Component),d=[{name:"London",poly:"51.47589,-0.15156:51.47589,-0.10156:51.52589,-0.10156:51.52589,-0.15156"},{name:"Birmingham",poly:"52.43391,-1.942301:52.43391,-1.842301:52.53391,-1.842301:52.53391,-1.942301"},{name:"Liverpool",poly:"53.35585,-3.035683:53.35585,-2.935683:53.45585,-2.935683:53.45585,-3.035683"},{name:"Nottingham",poly:"52.904,-1.290101:52.904,-1.190101:53.004,-1.190101:53.004,-1.290101"},{name:"Sheffield",poly:"53.34563,-1.689539:53.34563,-1.589539:53.44563,-1.589539:53.44563,-1.689539"}],j={"anti-social-behaviour":{readableCrimeName:"antisocial behaviour",successfulType:14,typeName:"psychic",reason:"Psychic pokemon are able to read and calm minds!"},"bicycle-theft":{readableCrimeName:"bicycle theft",successfulType:3,typeName:"flying",reason:"Flying pokemon are able to fly and track the thief!"},burglary:{readableCrimeName:"burglary",successfulType:2,typeName:"fighting",reason:"Fighting pokemon are able to beat the burglar in close quarter combat!"},"criminal-damage-arson":{readableCrimeName:"criminal damage or arson",successfulType:11,typeName:"water",reason:"Water pokemon can put out the fire!"},drugs:{readableCrimeName:"drugs",successfulType:4,typeName:"poison",reason:"Poison pokemon can detect drugs and create antidotes!"},"possession-of-weapons":{readableCrimeName:"possession of weapons",successfulType:8,typeName:"ghost",reason:"Ghost pokemon can't be hurt by corporeal weapons!"},"public-order":{readableCrimeName:"public order",successfulType:12,typeName:"grass",reason:"Grass pokemon can put people to sleep!"},robbery:{readableCrimeName:"robbery",successfulType:13,typeName:"electric",reason:"Electric pokemon can stun the assailant!"},shoplifting:{readableCrimeName:"shoplifting",successfulType:15,typeName:"ice",reason:"Ice pokemon can freeze the shoplifter in place!"},"theft-from-the-person":{readableCrimeName:"theft from a person",successfulType:1,typeName:"normal",reason:"Normal pokemon can stop theft from the person!"},"vehicle-crime":{readableCrimeName:"vehicle crime",successfulType:16,typeName:"dragon",reason:"Dragon pokemon can fly and stop a car!"},"violent-crime":{readableCrimeName:"violent crime",successfulType:18,typeName:"fairy",reason:"Fairy pokemon can turn any cruel person into a nice one!"}},b=a(20),f=a(7),g=a.n(f),O=a(8),y=a(10),k=a.n(y),x=a.p+"static/media/pokeball-transp.6dabce4f.png",v=function(e){return Object(s.jsxs)("div",{className:"loadingContainer",children:[Object(s.jsx)("h3",{children:"Loading..."}),Object(s.jsx)("img",{src:x,alt:"The PokemonGo logo",className:"pokemonBall loading ".concat(e.displayClass)})]})},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getPokemons=function(){var t=Object(O.a)(g.a.mark((function t(a){var s,n,r,c,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPokemonsAPICall(a);case 2:return s=t.sent,t.next=5,e.setArrayOfSuccessPokemonObj(s);case 5:return n=t.sent,t.next=8,e.getFinalPokemonDisplayList(n,"correct");case 8:return r=t.sent,t.next=11,e.setArrayOfWrongPokemonObj();case 11:return c=t.sent,t.next=14,e.getFinalPokemonDisplayList(c,"wrong");case 14:o=t.sent,e.translateCoordsToCityName(),e.combineArrays(r,o);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setArrayOfSuccessPokemonObj=function(){var t=Object(O.a)(g.a.mark((function t(a){var s,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=[],n=0;case 2:if(!(n<10)){t.next=10;break}return t.next=5,a.data.pokemon[e.getRandomIndex(20)].pokemon;case 5:r=t.sent,s.push(r);case 7:n++,t.next=2;break;case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setArrayOfWrongPokemonObj=Object(O.a)(g.a.mark((function t(){var a,s,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],s=0;case 2:if(!(s<10)){t.next=9;break}return t.next=5,e.getPokemonsAPICall(e.getRandomIndex(17));case 5:a[s]=t.sent;case 6:s++,t.next=2;break;case 9:return n=e.parseUnsuccessfulPokemonPromises(a),t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)}))),e.getPokemonsAPICall=function(e){return k()({method:"GET",url:"https://pokeapi.co/api/v2/type/".concat(e),dataResponse:"json"})},e.translateCoordsToCityName=function(){var t,a=Object(b.a)(d);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.poly.toString()===e.props.location.toString()&&e.setState({cityName:s.name})}}catch(n){a.e(n)}finally{a.f()}},e.combineArrays=function(t,a){var s=[];s.push(t[0]);for(var n=0;n<4;n++)s.push(a[n]);e.shuffle(s),console.log(s),e.setState({displayPokemonList:s})},e.shuffle=function(e){for(var t,a,s=e.length;0!==s;)a=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[a],e[a]=t;return e},e.getFinalPokemonDisplayList=function(){var e=Object(O.a)(g.a.mark((function e(t,a){var s,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=[],n=[],r=0;r<t.length;r++)s.push(k.a.get(t[r].url));return e.next=5,Promise.all([].concat(s));case 5:return e.sent.forEach((function(e){var t={},s=e.data.sprites.other["official-artwork"].front_default;if(null!==s){var r=e.data.abilities,c=[];r.forEach((function(e){c.push(e.ability.name)})),t={name:e.data.name,abilities:c,id:e.data.id,match:a,image:s},n.push(t)}})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.getRandomIndex=function(e){var t=Math.floor(Math.random()*e);return 0===t?t+1:t},e.parseUnsuccessfulPokemonPromises=function(t){for(var a=[],s=0;s<t.length;s++){var n=t[s].data.pokemon[e.getRandomIndex(t[s].data.pokemon.length)].pokemon;n.match="fail",a.push(n)}return a},e.handlePokemonSelect=function(t){console.log(t),"correct"===t.match?e.props.handleGameFlag(!0,t.name,t.image):"wrong"===t.match&&e.props.handleGameFlag(!1,t.name,t.image)},e.state={displayPokemonList:[],pokemonList:[],successPokemonArray:[],unSuccessPokemonArray:[],cityName:"city"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getPokemons(this.props.successPokemonType)}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:0!==this.state.displayPokemonList.length?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"quizMessage",children:Object(s.jsxs)("p",{children:[" ","You are in"," ",Object(s.jsx)("span",{className:"chosenCity",children:this.state.cityName}),", trying to solve a"," ",Object(s.jsx)("span",{className:"chosenCrime",children:this.props.crime})," crime."]})}),Object(s.jsx)("div",{className:"chooseYourFighter",children:Object(s.jsx)("p",{children:"Choose a Pokemon to help you solve the case:"})}),Object(s.jsx)("div",{className:"options",children:this.state.displayPokemonList?this.state.displayPokemonList.map((function(t,a){return Object(s.jsxs)("article",{className:"pokeDisplay",onClick:function(){e.handlePokemonSelect(t)},children:[Object(s.jsx)("p",{children:e.props.capitalizeFirstLetter(t.name)}),Object(s.jsx)("img",{src:t.image,alt:t.name},t.name),Object(s.jsx)("ul",{children:t.abilities.map((function(e,t){return Object(s.jsx)("li",{children:e},"".concat(e).concat(t))}))})]},"".concat(a).concat(t.name))})):null})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(v,{})})})}}]),a}(n.Component),C=a.p+"static/media/redX.47be6cd2.png",P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).resetGame=function(t){e.props.resetGame(""),console.log("reset")},e.state={},e}return Object(l.a)(a,[{key:"render",value:function(){return""===this.props.isSuccessfulFlag?null:!1===this.props.isSuccessfulFlag?Object(s.jsxs)("div",{className:"resultsSection",children:[Object(s.jsxs)("h3",{children:["DANG, ",this.props.userName,"..."]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{className:"resultPokeName",children:this.props.capitalizeFirstLetter(this.props.chosenPokeName)})," ","was not able to solve the crime!!"," "]}),Object(s.jsxs)("div",{className:"resultsImagesDiv loser",children:[Object(s.jsx)("img",{src:this.props.chosenPokeImageUrl,alt:this.props.userName}),Object(s.jsx)("img",{src:C,alt:"a red X",className:"redX"})]}),Object(s.jsxs)("div",{className:"gameButtons",children:[Object(s.jsx)("button",{className:"again",onClick:this.props.playAgain,children:"Play again"}),Object(s.jsx)("button",{className:"again",onClick:this.resetGame,children:"Game restart"})]})]}):Object(s.jsxs)("div",{className:"resultsSection",children:[Object(s.jsxs)("h3",{children:["OKAYY ",this.props.userName,"!"]}),Object(s.jsxs)("p",{children:["Great job!"," ",Object(s.jsx)("span",{className:"resultPokeName",children:this.props.capitalizeFirstLetter(this.props.chosenPokeName)})," ","solved the crime!"," "]}),Object(s.jsx)("div",{className:"resultsImagesDiv winner",children:Object(s.jsx)("img",{src:this.props.chosenPokeImageUrl,alt:this.props.userName})}),Object(s.jsxs)("div",{className:"gameButtons",children:[Object(s.jsx)("button",{className:"again",onClick:this.props.playAgain,children:"Play again"}),Object(s.jsx)("button",{className:"again",onClick:this.resetGame,children:"Game restart"})]})]})}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onLocationChange=function(t){e.props.getLocation(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("select",{onChange:this.onLocationChange,children:[Object(s.jsx)("option",{value:"none",children:"Choose location"}),d.map((function(e){return Object(s.jsx)("option",{value:e.poly,children:e.name},e.poly)}))]})}}]),a}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleCrime=function(t){e.props.getCrimeChange(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("select",{onChange:this.handleCrime,children:[Object(s.jsx)("option",{value:"none",children:"Choose crime"}),this.props.crimeCategoriesArray.map((function(e,t){return Object(s.jsx)("option",{value:e,children:e},t)}))]})}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getPokemonType=function(e){var t;for(var a in j)a===e&&(t=j[a].successfulType);return t},e.getLocationChange=function(t){e.setState({selectedLocation:t})},e.handleCrime=function(t){e.setState({selectedCrime:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.getPokemonType(e.state.selectedCrime);e.setState({successPokemonType:a},(function(){window.scrollTo({top:e.scrollToDiv.current.offsetTop})}))},e.handleGameFlag=function(t,a,s){e.props.isQuizzed(t),e.setState({gameFlag:t,chosenPokeName:a,chosenPokeImageUrl:s},(function(){window.scrollTo({top:e.resultsSection.current.offsetTop})}))},e.resetGame=function(t){e.props.reset(),console.log(t)},e.playAgain=function(){e.setState({gameFlag:""})},e.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.scrollToDiv=r.a.createRef(),e.resultsSection=r.a.createRef(),e.state={crimeCategories:[],selectedCrime:"",selectedLocation:"",successPokemonType:"",gameFlag:"",chosenPokeName:"",chosenPokeImageUrl:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object.keys(j);this.setState({crimeCategories:e})}},{key:"render",value:function(){return Object(s.jsx)("main",{children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{name:"dropdownForm",children:[Object(s.jsx)(S,{getLocation:this.getLocationChange}),""!==this.state.selectedLocation?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F,{getCrimeChange:this.handleCrime,crimeCategoriesArray:this.state.crimeCategories}),Object(s.jsx)("button",{className:"dropdownForm",onClick:this.handleSubmit,children:"Submit"})]}):null]}),""===this.state.gameFlag?Object(s.jsx)("div",{ref:this.scrollToDiv,children:this.state.successPokemonType?Object(s.jsx)(N,{crime:this.state.selectedCrime,successPokemonType:this.state.successPokemonType,location:this.state.selectedLocation,handleGameFlag:this.handleGameFlag,capitalizeFirstLetter:this.capitalizeFirstLetter},this.state.successPokemonType):null}):null]}),Object(s.jsx)("div",{ref:this.resultsSection,children:Object(s.jsx)(P,{isSuccessfulFlag:this.state.gameFlag,userName:this.props.userName,chosenPokeName:this.state.chosenPokeName,chosenPokeImageUrl:this.state.chosenPokeImageUrl,selectedCrime:this.state.selectedCrime,capitalizeFirstLetter:this.capitalizeFirstLetter,resetGame:this.resetGame,playAgain:this.playAgain},this.state.gameFlag)})]})})}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).grabUsername=function(t,a){e.setState({user:t,isNameSubmit:a})},e.isQuizzed=function(t){e.setState({quizzed:t})},e.reset=function(){e.setState({isNameSubmit:!1,user:""})},e.state={user:"",isNameSubmit:!1,quizzed:""},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsx)("h1",{children:"Detective Pok\xe9mon"})}),this.state.isNameSubmit?null:Object(s.jsx)(p,{getUser:this.grabUsername,username:this.state.user}),Object(s.jsx)("div",{className:"wrapper greeting",children:this.state.user.length>=2&&""===this.state.quizzed?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{children:["Thank you ",Object(s.jsxs)("span",{children:[" ",this.state.user," "]})," for joining this fight with us!"]}),Object(s.jsx)("p",{children:"Please pick a city and the category of crime that you will help to solve."})]}):null}),this.state.user.length>=2?Object(s.jsx)(T,{userName:this.state.user,isQuizzed:this.isQuizzed,reset:this.reset}):null]})})}}]),a}(n.Component),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),L()}},[[46,1,2]]]);
//# sourceMappingURL=main.d7c2e93d.chunk.js.map